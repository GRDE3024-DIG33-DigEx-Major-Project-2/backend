--
-- PostgreSQL database dump
--

-- Dumped from database version 15.3
-- Dumped by pg_dump version 15.3

-- Started on 2023-07-15 18:48:15

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 6 (class 2615 OID 49152)
-- Name: public; Type: SCHEMA; Schema: -; Owner: postgres
--

-- *not* creating schema, since initdb creates it


ALTER SCHEMA public OWNER TO postgres;

--
-- TOC entry 3407 (class 0 OID 0)
-- Dependencies: 6
-- Name: SCHEMA public; Type: COMMENT; Schema: -; Owner: postgres
--

COMMENT ON SCHEMA public IS '';


--
-- TOC entry 2 (class 3079 OID 16384)
-- Name: adminpack; Type: EXTENSION; Schema: -; Owner: -
--

CREATE EXTENSION IF NOT EXISTS adminpack WITH SCHEMA pg_catalog;


--
-- TOC entry 3409 (class 0 OID 0)
-- Dependencies: 2
-- Name: EXTENSION adminpack; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION adminpack IS 'administrative functions for PostgreSQL';


SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 217 (class 1259 OID 49173)
-- Name: Act; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Act" (
    id uuid NOT NULL,
    name character varying(255) NOT NULL,
    "dateFormed" date,
    "createdAt" timestamp with time zone NOT NULL,
    "updatedAt" timestamp with time zone NOT NULL
);


ALTER TABLE public."Act" OWNER TO postgres;

--
-- TOC entry 216 (class 1259 OID 49163)
-- Name: Attendee; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Attendee" (
    id uuid NOT NULL,
    "firstName" character varying(255) NOT NULL,
    "lastName" character varying(255) NOT NULL,
    bio text,
    dob date NOT NULL,
    email character varying(255) NOT NULL,
    password character varying(255) NOT NULL,
    "imgFilename" character varying(255),
    "userType" character varying(255) DEFAULT 'attendee'::character varying,
    "createdAt" timestamp with time zone NOT NULL,
    "updatedAt" timestamp with time zone NOT NULL
);


ALTER TABLE public."Attendee" OWNER TO postgres;

--
-- TOC entry 218 (class 1259 OID 49178)
-- Name: Event; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Event" (
    id uuid NOT NULL,
    title character varying(255) NOT NULL,
    "venueName" character varying(255) NOT NULL,
    description character varying(255) NOT NULL,
    summary character varying(255) NOT NULL,
    "startDate" timestamp with time zone NOT NULL,
    "endDate" timestamp with time zone NOT NULL,
    address character varying(255) NOT NULL,
    city character varying(255) NOT NULL,
    region character varying(255) NOT NULL,
    postcode character varying(255) NOT NULL,
    country character varying(255) NOT NULL,
    "isFree" boolean NOT NULL,
    "purchaseUrl" character varying(255),
    status character varying(255) DEFAULT 'U'::character varying NOT NULL,
    "createdAt" timestamp with time zone NOT NULL,
    "updatedAt" timestamp with time zone NOT NULL,
    "OrganizerId" uuid
);


ALTER TABLE public."Event" OWNER TO postgres;

--
-- TOC entry 222 (class 1259 OID 49213)
-- Name: EventAct; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."EventAct" (
    id uuid NOT NULL,
    "EventId" uuid,
    "ActId" uuid,
    "createdAt" timestamp with time zone NOT NULL,
    "updatedAt" timestamp with time zone NOT NULL
);


ALTER TABLE public."EventAct" OWNER TO postgres;

--
-- TOC entry 219 (class 1259 OID 49191)
-- Name: EventImage; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."EventImage" (
    id uuid NOT NULL,
    "EventId" uuid,
    filename character varying(255),
    "createdAt" timestamp with time zone NOT NULL,
    "updatedAt" timestamp with time zone NOT NULL
);


ALTER TABLE public."EventImage" OWNER TO postgres;

--
-- TOC entry 223 (class 1259 OID 49230)
-- Name: EventTicket; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."EventTicket" (
    id uuid NOT NULL,
    "EventId" uuid,
    "TicketTypeId" uuid,
    "createdAt" timestamp with time zone NOT NULL,
    "updatedAt" timestamp with time zone NOT NULL
);


ALTER TABLE public."EventTicket" OWNER TO postgres;

--
-- TOC entry 224 (class 1259 OID 49247)
-- Name: FavouritedBy; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."FavouritedBy" (
    id uuid NOT NULL,
    "EventId" uuid,
    "AttendeeId" uuid,
    "createdAt" timestamp with time zone NOT NULL,
    "updatedAt" timestamp with time zone NOT NULL
);


ALTER TABLE public."FavouritedBy" OWNER TO postgres;

--
-- TOC entry 215 (class 1259 OID 49153)
-- Name: Organizer; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Organizer" (
    id uuid NOT NULL,
    bio text,
    "organizationName" character varying(255) NOT NULL,
    "phoneNumber" character varying(255) NOT NULL,
    email character varying(255) NOT NULL,
    password character varying(255) NOT NULL,
    "imgFilename" character varying(255),
    "userType" character varying(255) DEFAULT 'organizer'::character varying,
    "createdAt" timestamp with time zone NOT NULL,
    "updatedAt" timestamp with time zone NOT NULL
);


ALTER TABLE public."Organizer" OWNER TO postgres;

--
-- TOC entry 221 (class 1259 OID 49208)
-- Name: Tag; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Tag" (
    id uuid NOT NULL,
    name character varying(255) NOT NULL,
    "createdAt" timestamp with time zone NOT NULL,
    "updatedAt" timestamp with time zone NOT NULL
);


ALTER TABLE public."Tag" OWNER TO postgres;

--
-- TOC entry 225 (class 1259 OID 49264)
-- Name: TaggedWith; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."TaggedWith" (
    id uuid NOT NULL,
    "EventId" uuid,
    "TagId" uuid,
    "createdAt" timestamp with time zone NOT NULL,
    "updatedAt" timestamp with time zone NOT NULL
);


ALTER TABLE public."TaggedWith" OWNER TO postgres;

--
-- TOC entry 220 (class 1259 OID 49201)
-- Name: TicketType; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."TicketType" (
    id uuid NOT NULL,
    name character varying(255) NOT NULL,
    price numeric NOT NULL,
    "createdAt" timestamp with time zone NOT NULL,
    "updatedAt" timestamp with time zone NOT NULL
);


ALTER TABLE public."TicketType" OWNER TO postgres;

--
-- TOC entry 3225 (class 2606 OID 49177)
-- Name: Act Act_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Act"
    ADD CONSTRAINT "Act_pkey" PRIMARY KEY (id);


--
-- TOC entry 3221 (class 2606 OID 49172)
-- Name: Attendee Attendee_email_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Attendee"
    ADD CONSTRAINT "Attendee_email_key" UNIQUE (email);


--
-- TOC entry 3223 (class 2606 OID 49170)
-- Name: Attendee Attendee_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Attendee"
    ADD CONSTRAINT "Attendee_pkey" PRIMARY KEY (id);


--
-- TOC entry 3235 (class 2606 OID 49219)
-- Name: EventAct EventAct_EventId_ActId_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."EventAct"
    ADD CONSTRAINT "EventAct_EventId_ActId_key" UNIQUE ("EventId", "ActId");


--
-- TOC entry 3237 (class 2606 OID 49217)
-- Name: EventAct EventAct_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."EventAct"
    ADD CONSTRAINT "EventAct_pkey" PRIMARY KEY (id);


--
-- TOC entry 3229 (class 2606 OID 49195)
-- Name: EventImage EventImage_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."EventImage"
    ADD CONSTRAINT "EventImage_pkey" PRIMARY KEY (id);


--
-- TOC entry 3239 (class 2606 OID 49236)
-- Name: EventTicket EventTicket_EventId_TicketTypeId_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."EventTicket"
    ADD CONSTRAINT "EventTicket_EventId_TicketTypeId_key" UNIQUE ("EventId", "TicketTypeId");


--
-- TOC entry 3241 (class 2606 OID 49234)
-- Name: EventTicket EventTicket_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."EventTicket"
    ADD CONSTRAINT "EventTicket_pkey" PRIMARY KEY (id);


--
-- TOC entry 3227 (class 2606 OID 49185)
-- Name: Event Event_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Event"
    ADD CONSTRAINT "Event_pkey" PRIMARY KEY (id);


--
-- TOC entry 3243 (class 2606 OID 49253)
-- Name: FavouritedBy FavouritedBy_EventId_AttendeeId_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."FavouritedBy"
    ADD CONSTRAINT "FavouritedBy_EventId_AttendeeId_key" UNIQUE ("EventId", "AttendeeId");


--
-- TOC entry 3245 (class 2606 OID 49251)
-- Name: FavouritedBy FavouritedBy_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."FavouritedBy"
    ADD CONSTRAINT "FavouritedBy_pkey" PRIMARY KEY (id);


--
-- TOC entry 3217 (class 2606 OID 49162)
-- Name: Organizer Organizer_email_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Organizer"
    ADD CONSTRAINT "Organizer_email_key" UNIQUE (email);


--
-- TOC entry 3219 (class 2606 OID 49160)
-- Name: Organizer Organizer_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Organizer"
    ADD CONSTRAINT "Organizer_pkey" PRIMARY KEY (id);


--
-- TOC entry 3233 (class 2606 OID 49212)
-- Name: Tag Tag_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Tag"
    ADD CONSTRAINT "Tag_pkey" PRIMARY KEY (id);


--
-- TOC entry 3247 (class 2606 OID 49270)
-- Name: TaggedWith TaggedWith_EventId_TagId_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."TaggedWith"
    ADD CONSTRAINT "TaggedWith_EventId_TagId_key" UNIQUE ("EventId", "TagId");


--
-- TOC entry 3249 (class 2606 OID 49268)
-- Name: TaggedWith TaggedWith_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."TaggedWith"
    ADD CONSTRAINT "TaggedWith_pkey" PRIMARY KEY (id);


--
-- TOC entry 3231 (class 2606 OID 49207)
-- Name: TicketType TicketType_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."TicketType"
    ADD CONSTRAINT "TicketType_pkey" PRIMARY KEY (id);


--
-- TOC entry 3252 (class 2606 OID 49225)
-- Name: EventAct EventAct_ActId_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."EventAct"
    ADD CONSTRAINT "EventAct_ActId_fkey" FOREIGN KEY ("ActId") REFERENCES public."Act"(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 3253 (class 2606 OID 49220)
-- Name: EventAct EventAct_EventId_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."EventAct"
    ADD CONSTRAINT "EventAct_EventId_fkey" FOREIGN KEY ("EventId") REFERENCES public."Event"(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 3251 (class 2606 OID 49196)
-- Name: EventImage EventImage_EventId_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."EventImage"
    ADD CONSTRAINT "EventImage_EventId_fkey" FOREIGN KEY ("EventId") REFERENCES public."Event"(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 3254 (class 2606 OID 49237)
-- Name: EventTicket EventTicket_EventId_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."EventTicket"
    ADD CONSTRAINT "EventTicket_EventId_fkey" FOREIGN KEY ("EventId") REFERENCES public."Event"(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 3255 (class 2606 OID 49242)
-- Name: EventTicket EventTicket_TicketTypeId_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."EventTicket"
    ADD CONSTRAINT "EventTicket_TicketTypeId_fkey" FOREIGN KEY ("TicketTypeId") REFERENCES public."TicketType"(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 3250 (class 2606 OID 49186)
-- Name: Event Event_OrganizerId_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Event"
    ADD CONSTRAINT "Event_OrganizerId_fkey" FOREIGN KEY ("OrganizerId") REFERENCES public."Organizer"(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 3256 (class 2606 OID 49259)
-- Name: FavouritedBy FavouritedBy_AttendeeId_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."FavouritedBy"
    ADD CONSTRAINT "FavouritedBy_AttendeeId_fkey" FOREIGN KEY ("AttendeeId") REFERENCES public."Attendee"(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 3257 (class 2606 OID 49254)
-- Name: FavouritedBy FavouritedBy_EventId_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."FavouritedBy"
    ADD CONSTRAINT "FavouritedBy_EventId_fkey" FOREIGN KEY ("EventId") REFERENCES public."Event"(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 3258 (class 2606 OID 49271)
-- Name: TaggedWith TaggedWith_EventId_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."TaggedWith"
    ADD CONSTRAINT "TaggedWith_EventId_fkey" FOREIGN KEY ("EventId") REFERENCES public."Event"(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 3259 (class 2606 OID 49276)
-- Name: TaggedWith TaggedWith_TagId_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."TaggedWith"
    ADD CONSTRAINT "TaggedWith_TagId_fkey" FOREIGN KEY ("TagId") REFERENCES public."Tag"(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- TOC entry 3408 (class 0 OID 0)
-- Dependencies: 6
-- Name: SCHEMA public; Type: ACL; Schema: -; Owner: postgres
--

REVOKE USAGE ON SCHEMA public FROM PUBLIC;


-- Completed on 2023-07-15 18:48:15

--
-- PostgreSQL database dump complete
--

